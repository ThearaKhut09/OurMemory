// Language translations for the Our Memory website
const languages = {
    km: {
        // Navigation and Header
        title: "á¢á“á»áŸáŸ’áŸá¶áœášá¸á™áŸášá”áŸáŸ‹á™á¾á„ - ášá¿á„áŸáŸ’á“áŸá á¶",
        logoText: "á¢á“á»áŸáŸ’áŸá¶áœášá¸á™áŸášá”áŸáŸ‹á™á¾á„",
        toggleTheme: "á”áŸ’áá¼ášá˜áŸ‰á¼áŠá„á„á¹á",
        language: "á—á¶áŸá¶",
        
        // Hero Section
        heroTitle1: "áŠáŸ†áá¾ášá¢áŸáŸ’á…á¶ášáŸ’á™",
        heroTitle2: "ášá”áŸáŸ‹á™á¾á„á‡á¶á˜á½á™á‚áŸ’á“á¶",
        heroSubtitle: "á…á¶á”áŸ‹á™á€ášá¶á›áŸ‹á–áŸá›áœáŸá›á¶áŠáŸá˜á¶á“áá˜áŸ’á›áŸƒá“áŸƒášá¿á„áŸáŸ’á“áŸá á¶ášá”áŸáŸ‹á™á¾á„",
        createMemoryButton: "á”á„áŸ’á€á¾áá¢á“á»áŸáŸ’áŸá¶áœášá¸á™áŸááŸ’á˜á¸",
        
        // Add Memory Section
        addMemoryTitle: "á”á“áŸ’ááŸ‚á˜á¢á“á»áŸáŸ’áŸá¶áœášá¸á™áŸááŸ’á˜á¸",
        closeSection: "á”á·á‘á•áŸ’á“áŸ‚á€á”á“áŸ’ááŸ‚á˜á¢á“á»áŸáŸ’áŸá¶áœášá¸á™áŸ",
        memoryTitleLabel: "á…áŸ†áá„á‡á¾á„á¢á“á»áŸáŸ’áŸá¶áœášá¸á™áŸ",
        memoryTitlePlaceholder: "á€á¶ášáá¶ááŸ‹á‡á½á”áŠáŸ†á”á¼á„, á€á¶ášá’áŸ’áœá¾áŠáŸ†áá¾áš, áŸ”á›áŸ”",
        descriptionLabel: "á€á¶ášá–á·á–ááŸŒá“á¶",
        descriptionPlaceholder: "á”áŸ’ášá¶á”áŸ‹á™á¾á„á¢áŸ†á–á¸á–áŸá›áœáŸá›á¶áŠáŸáŸáŸ’ášáŸáŸ‹áŸáŸ’á¢á¶áá“áŸáŸ‡...",
        dateLabel: "á€á¶á›á”ášá·á…áŸ’á†áŸá‘",
        uploadImageLabel: "á•áŸ’á‘á»á€á¡á¾á„ášá¼á”á—á¶á–",
        uploadImageText: "á…á»á…áŠá¾á˜áŸ’á”á¸á‡áŸ’ášá¾áŸášá¾áŸ á¬á¢á¼áŸ á“á·á„á‘á˜áŸ’á›á¶á€áŸ‹",
        saveMemoryButton: "ášá€áŸ’áŸá¶á‘á»á€á¢á“á»áŸáŸ’áŸá¶áœášá¸á™áŸ",
        
        // Memories Gallery
        memoriesTitle: "á¢á“á»áŸáŸ’áŸá¶áœášá¸á™áŸáŠáŸáŸáŸ’ášáŸáŸ‹áŸáŸ’á¢á¶áášá”áŸáŸ‹á™á¾á„",
        noMemoriesText: "á˜á·á“á‘á¶á“áŸ‹á˜á¶á“á¢á“á»áŸáŸ’áŸá¶áœášá¸á™áŸá“áŸ…á¡á¾á™á‘áŸáŸ” áŸá¼á˜á”á„áŸ’á€á¾áá¢á“á»áŸáŸ’áŸá¶áœášá¸á™áŸáŠáŸáŸáŸ’ášáŸáŸ‹áŸáŸ’á¢á¶ááŠáŸ†á”á¼á„ášá”áŸáŸ‹á¢áŸ’á“á€á“áŸ…áá¶á„á›á¾! ğŸ’•",
        
        // Modal Actions
        editButton: "á€áŸ‚á”áŸ’ášáŸ‚",
        deleteButton: "á›á»á”",
        cancelButton: "á”áŸ„áŸ‡á”á„áŸ‹",
        saveChangesButton: "ášá€áŸ’áŸá¶á‘á»á€á€á¶ášá•áŸ’á›á¶áŸáŸ‹á”áŸ’áá¼áš",
        
        // Edit Modal
        editMemoryTitle: "á€áŸ‚á”áŸ’ášáŸ‚á¢á“á»áŸáŸ’áŸá¶áœášá¸á™áŸ",
        changeImageText: "á•áŸ’á›á¶áŸáŸ‹á”áŸ’áá¼ášášá¼á”á—á¶á– (á‡á˜áŸ’ášá¾áŸ)",
        changeImageSubtext: "á…á»á…áŠá¾á˜áŸ’á”á¸á‡áŸ’ášá¾áŸášá¾áŸášá¼á”á—á¶á–ááŸ’á˜á¸",
        
        // Confirmation Modal
        confirmDeleteTitle: "á”á‰áŸ’á‡á¶á€áŸ‹á€á¶ášá›á»á”",
        confirmDeleteMessage: "áá¾á¢áŸ’á“á€á”áŸ’ášá¶á€áŠáá¶á…á„áŸ‹á›á»á”á¢á“á»áŸáŸ’áŸá¶áœášá¸á™áŸá“áŸáŸ‡á˜áŸ‚á“á‘áŸ? áŸá€á˜áŸ’á˜á—á¶á–á“áŸáŸ‡á˜á·á“á¢á¶á…ááŸ’ášá¡á”áŸ‹áœá·á‰á”á¶á“á‘áŸáŸ”",
        
        // Notifications
        memorySavedTitle: "á¢á“á»áŸáŸ’áŸá¶áœášá¸á™áŸá”á¶á“ášá€áŸ’áŸá¶á‘á»á€!",
        memorySavedMessage: "á¢á“á»áŸáŸ’áŸá¶áœášá¸á™áŸáŠáŸáŸáŸ’ášáŸáŸ‹áŸáŸ’á¢á¶áášá”áŸáŸ‹á¢áŸ’á“á€ááŸ’ášá¼áœá”á¶á“ášá€áŸ’áŸá¶á‘á»á€áŠáŸ„á™á‡áŸ„á‚á‡áŸá™áŸ”",
        memoryUpdatedTitle: "á¢á“á»áŸáŸ’áŸá¶áœášá¸á™áŸá”á¶á“á’áŸ’áœá¾á”á…áŸ’á…á»á”áŸ’á”á“áŸ’á“á—á¶á–!",
        memoryUpdatedMessage: "á¢á“á»áŸáŸ’áŸá¶áœášá¸á™áŸášá”áŸáŸ‹á¢áŸ’á“á€ááŸ’ášá¼áœá”á¶á“á’áŸ’áœá¾á”á…áŸ’á…á»á”áŸ’á”á“áŸ’á“á—á¶á–áŠáŸ„á™á‡áŸ„á‚á‡áŸá™áŸ”",
        memoryDeletedTitle: "á¢á“á»áŸáŸ’áŸá¶áœášá¸á™áŸá”á¶á“á›á»á”!",
        memoryDeletedMessage: "á¢á“á»áŸáŸ’áŸá¶áœášá¸á™áŸááŸ’ášá¼áœá”á¶á“á›á»á”áŠáŸ„á™á‡áŸ„á‚á‡áŸá™áŸ”",
        invalidFileTitle: "á¯á€áŸá¶ášá˜á·á“ááŸ’ášá¹á˜ááŸ’ášá¼áœ",
        invalidFileMessage: "áŸá¼á˜á‡áŸ’ášá¾áŸášá¾áŸá¯á€áŸá¶ášášá¼á”á—á¶á–áŠáŸ‚á›ááŸ’ášá¹á˜ááŸ’ášá¼áœáŸ”",
        
        // Sample Memories (Khmer)
        sampleMemories: [
            {
                title: "á€á¶ášáá¶ááŸ‹á‡á½á”áŠáŸ†á”á¼á„ášá”áŸáŸ‹á™á¾á„ â¤ï¸",
                description: "á™á”áŸ‹áœáŸá›á¶áŠáŸá¢áŸáŸ’á…á¶ášáŸ’á™á“áŸ…á—áŸ„á‡á“á¸á™áŠáŸ’á‹á¶á“á¢áŸŠá¸áá¶á›á¸ á‡á¶á€á“áŸ’á›áŸ‚á„áŠáŸ‚á›á™á¾á„á”á¶á“á“á·á™á¶á™á‚áŸ’á“á¶ášá¶á”áŸ‹á˜áŸ‰áŸ„á„ á“á·á„á”á¶á“áŠá¹á„áá¶á™á¾á„á˜á¶á“á¢áŸ’áœá¸ášá½á˜á‚áŸ’á“á¶á…áŸ’ášá¾á“áŸ” ášá”áŸ€á”áŠáŸ‚á›á¢áŸ’á“á€áŸá¾á…á…áŸ†á–áŸ„áŸ‡ášá¿á„á€áŸ†á”áŸ’á›áŸ‚á„á›áŸ’á„á¸á›áŸ’á„á¾ášá”áŸáŸ‹ááŸ’á‰á»áŸ† á”á¶á“á’áŸ’áœá¾á±áŸ’á™á”áŸáŸ‡áŠá¼á„ááŸ’á‰á»áŸ†á›áŸ„áááŸ’á›á¶áŸ†á„áŸ”"
            },
            {
                title: "á€á¶ášá’áŸ’áœá¾áŠáŸ†áá¾ášá…á»á„áŸá”áŸ’áá¶á áŸ ğŸ–ï¸",
                description: "á€á¶ášá’áŸ’áœá¾áŠáŸ†áá¾ášáŠáŸ„á™á˜á·á“á”á¶á“á‚áŸ’ášáŸ„á„á‘á»á€á˜á»á“ášá”áŸáŸ‹á™á¾á„á‘áŸ…á†áŸ’á“áŸášáŸá˜á»á‘áŸ’áš á‡á¶á€á“áŸ’á›áŸ‚á„áŠáŸ‚á›á™á¾á„á”á¶á“á˜á¾á›á–áŸá›ááŸ’á„áŸƒá›á·á…á‡á¶á˜á½á™á‚áŸ’á“á¶áŸ” á€á¶ášáŸá¶á„áŸá¶á›á¶á›áŸ†á  á“á·á„á€á¶ášá”áŸ‚á„á…áŸ‚á€á€á¶ášáŸ‰áŸá˜á¢áŸ†á¡á»á„á–áŸá›áŠáŸ‚á›ášá›á€á”á€áŸ‹á”áŸ„á€á“áŸ…á€áŸ’á”áŸ‚áš - á—á¶á–áŸá»ááŠáŸáŸáŸ’ášáŸáŸ‹áŸáŸ’á¢á¶ááŸ”"
            },
            {
                title: "á™á”áŸ‹á˜á¾á›á€á»á“á€áŸ†á”áŸ’á›áŸ‚á„ ğŸ¬",
                description: "á™á”áŸ‹áŠáŸá€á€áŸ‹á€áŸ’ááŸ…á€áŸ’á“á»á„á€á¶ášá˜á¾á›á€á»á“á€áŸ†á”áŸ’á›áŸ‚á„áŸáŸ’á“áŸá á¶áŠáŸ‚á›á™á¾á„á…á¼á›á…á·ááŸ’ááŸ” á¢áŸ’á“á€á”á¶á“áŠáŸá€á›á¾áŸáŸ’á˜á¶ášá”áŸáŸ‹ááŸ’á‰á»áŸ†á€áŸ†á¡á»á„á–áŸá›á€áŸ’ášáŸáŒá¸á á á¾á™ááŸ’á‰á»áŸ†á˜á·á“á…á„áŸ‹á•áŸ’á›á¶áŸáŸ‹á‘á¸á“áŸ„áŸ‡á‘áŸ á–áŸ’ášáŸ„áŸ‡á¢áŸ’á“á€á˜á¾á›á‘áŸ…áŸá»ááŸáŸ’ášá½á›áá¶áŸáŸ‹áŸ”"
            },
            {
                title: "á€á¶ášá¢á”á¢ášáŸá¶á‘ášáá½á”á€áŸ†áá¾á ğŸ’",
                description: "á€á¶ášá¢á”á¢ášáŸá¶á‘ášá€á˜áŸ’ášá·ááŸáŸ†áá¶á“áŸ‹á–á·áŸáŸáŸášá”áŸáŸ‹á™á¾á„á‡á¶á˜á½á™á¢á¶á á¶ášá–áŸá›á›áŸ’á„á¶á…á“áŸ…á—áŸ„á‡á“á¸á™áŠáŸ’á‹á¶á“áŠáŸ‚á›á™á¾á„á…á¼á›á…á·ááŸ’ááŸ” á•áŸ’á€á¶áŠáŸ‚á›á¢áŸ’á“á€á”á¶á“á’áŸ’áœá¾á¢áŸ„á™ááŸ’á‰á»áŸ†á—áŸ’á‰á¶á€áŸ‹á•áŸ’á¢á¾á› á˜á¶á“á—á¶á–áŸáŸ’ášáŸáŸ‹áŸáŸ’á¢á¶áá˜áŸ‚á“á‘áŸ‚á“ á“á·á„á”á¶á“á’áŸ’áœá¾á±áŸ’á™á™á”áŸ‹á“áŸ„áŸ‡á€á¶á“áŸ‹ááŸ‚á›áŸ’á¢á¥áááŸ’á…áŸ„áŸ‡áŸ”"
            },
            {
                title: "á€á¶ášá•áŸ’áŸá„á–áŸ’ášáŸá„á‡á¶á˜á½á™á‚áŸ’á“á¶ ğŸŒŸ",
                description: "á€á¶ášá•áŸ’áŸá„á–áŸ’ášáŸá„áŠáŸášáŸ†á—á¾á”ášá”áŸáŸ‹á™á¾á„á€áŸ’á“á»á„á€á¶ášáŸáŸ’áœáŸ‚á„ášá€á€á“áŸ’á›áŸ‚á„ááŸ’á˜á¸áŸ—á‡á¶á˜á½á™á‚áŸ’á“á¶áŸ” ášá¶á›áŸ‹á–áŸá›áœáŸá›á¶á‡á¶á˜á½á™á¢áŸ’á“á€á˜á¶á“á¢á¶ášá˜áŸ’á˜ááŸáŠá¼á…á‡á¶á€á¶ášášá€áƒá¾á‰ááŸ’á˜á¸ á á¾á™ááŸ’á‰á»áŸ†áŸáŸ’ášá›á¶á‰áŸ‹ášá”áŸ€á”áŠáŸ‚á›á™á¾á„á”á„áŸ’á€á¾áá¢á“á»áŸáŸ’áŸá¶áœášá¸á™áŸáŠáŸáŸáŸ’ášáŸáŸ‹áŸáŸ’á¢á¶áá“áŸ…á‚áŸ’ášá”áŸ‹á€á“áŸ’á›áŸ‚á„áŠáŸ‚á›á™á¾á„á‘áŸ…áŸ”"
            }
        ]
    },
    en: {
        // Navigation and Header
        title: "Our Memory - Love Stories",
        logoText: "Our Memory",
        toggleTheme: "Toggle dark mode",
        language: "Language",
        
        // Hero Section
        heroTitle1: "Our Beautiful",
        heroTitle2: "Journey Together",
        heroSubtitle: "Capturing every precious moment of our love story",
        createMemoryButton: "Create New Memory",
        
        // Add Memory Section
        addMemoryTitle: "Add a New Memory",
        closeSection: "Close add memory section",
        memoryTitleLabel: "Memory Title",
        memoryTitlePlaceholder: "Our first date, vacation, etc...",
        descriptionLabel: "Description",
        descriptionPlaceholder: "Tell us about this beautiful moment...",
        dateLabel: "Date",
        uploadImageLabel: "Upload Image",
        uploadImageText: "Click to select or drag & drop",
        saveMemoryButton: "Save Memory",
        
        // Memories Gallery
        memoriesTitle: "Our Beautiful Memories",
        noMemoriesText: "No memories yet. Create your first beautiful memory above! ğŸ’•",
        
        // Modal Actions
        editButton: "Edit",
        deleteButton: "Delete",
        cancelButton: "Cancel",
        saveChangesButton: "Save Changes",
        
        // Edit Modal
        editMemoryTitle: "Edit Memory",
        changeImageText: "Change Image (Optional)",
        changeImageSubtext: "Click to select new image",
        
        // Confirmation Modal
        confirmDeleteTitle: "Confirm Delete",
        confirmDeleteMessage: "Are you sure you want to delete this memory? This action cannot be undone.",
        
        // Notifications
        memorySavedTitle: "Memory Saved!",
        memorySavedMessage: "Your beautiful memory has been saved successfully.",
        memoryUpdatedTitle: "Memory Updated!",
        memoryUpdatedMessage: "Your memory has been successfully updated.",
        memoryDeletedTitle: "Memory Deleted!",
        memoryDeletedMessage: "The memory has been successfully deleted.",
        invalidFileTitle: "Invalid File",
        invalidFileMessage: "Please select a valid image file.",
        
        // Sample Memories (English)
        sampleMemories: [
            {
                title: "Our First Date â¤ï¸",
                description: "That magical evening at the Italian restaurant where we talked for hours and realized we had so much in common. The way you laughed at my silly jokes made my heart skip a beat."
            },
            {
                title: "Weekend Getaway ğŸ–ï¸",
                description: "Our spontaneous trip to the beach where we watched the sunset together. Building sandcastles and sharing ice cream while the waves crashed nearby - pure bliss."
            },
            {
                title: "Movie Night Cuddles ğŸ¬",
                description: "Cozy evening watching our favorite romantic comedy. You fell asleep on my shoulder during the credits, and I didn't want to move because you looked so peaceful."
            },
            {
                title: "Anniversary Celebration ğŸ’",
                description: "Celebrating our special milestone with dinner at our favorite restaurant. The flowers you surprised me with were absolutely beautiful and made the evening even more perfect."
            },
            {
                title: "Adventure Together ğŸŒŸ",
                description: "Our exciting adventure exploring new places together. Every moment with you feels like a new discovery, and I love how we create beautiful memories wherever we go."
            }
        ]
    }
};

// Current language (default: Khmer)
let currentLanguage = 'km';

// Get text based on current language
function getText(key) {
    return languages[currentLanguage][key] || languages['en'][key] || key;
}

// Get sample memories based on current language
function getSampleMemories() {
    return languages[currentLanguage].sampleMemories || languages['en'].sampleMemories;
}

// Change language function
function changeLanguage(langCode) {
    if (languages[langCode]) {
        currentLanguage = langCode;
        localStorage.setItem('selectedLanguage', langCode);
        
        // Set lang attribute on html element for better font support
        document.documentElement.setAttribute('lang', langCode);
        
        updatePageLanguage();
        
        // Trigger custom event for language change
        window.dispatchEvent(new CustomEvent('languageChanged', { detail: { language: langCode } }));
        
        // Refresh memories with new language if they are sample memories
        const stored = localStorage.getItem('ourMemories');
        if (!stored || JSON.parse(stored).length === 0) {
            loadSampleMemories();
        }
        
        displayMemories();
    }
}

// Update all text on the page
function updatePageLanguage() {
    // Update document title
    document.title = getText('title');
    
    // Update logo text
    const logoText = document.querySelector('.logo span');
    if (logoText) logoText.textContent = getText('logoText');
    
    // Update theme toggle aria-label
    const themeToggle = document.getElementById('theme-toggle');
    if (themeToggle) themeToggle.setAttribute('aria-label', getText('toggleTheme'));
    
    // Update language selector text
    const langText = document.querySelector('.language-selector .lang-text');
    if (langText) langText.textContent = getText('language');
    
    // Update hero section
    const heroTitle1 = document.querySelector('.romantic-text');
    const heroTitle2 = document.querySelector('.memory-text');
    const heroSubtitle = document.querySelector('.hero-subtitle');
    const ctaButton = document.querySelector('.cta-button');
    
    if (heroTitle1) heroTitle1.textContent = getText('heroTitle1');
    if (heroTitle2) heroTitle2.textContent = getText('heroTitle2');
    if (heroSubtitle) heroSubtitle.textContent = getText('heroSubtitle');
    if (ctaButton) {
        ctaButton.innerHTML = `
            <i class="fas fa-plus"></i>
            ${getText('createMemoryButton')}
        `;
    }
    
    // Update add memory section
    const addMemoryTitle = document.querySelector('#add-memory .section-title');
    const closeSectionBtn = document.querySelector('.close-section-btn');
    
    if (addMemoryTitle) addMemoryTitle.textContent = getText('addMemoryTitle');
    if (closeSectionBtn) closeSectionBtn.setAttribute('aria-label', getText('closeSection'));
    
    // Update form labels and placeholders
    const memoryTitleLabel = document.querySelector('label[for="memory-title"]');
    const memoryTitleInput = document.getElementById('memory-title');
    const descriptionLabel = document.querySelector('label[for="memory-description"]');
    const descriptionTextarea = document.getElementById('memory-description');
    const dateLabel = document.querySelector('label[for="memory-date"]');
    const uploadLabel = document.querySelector('.file-upload-label span');
    const uploadSubtext = document.querySelector('.file-upload-label small');
    const saveButton = document.querySelector('.submit-btn');
    
    if (memoryTitleLabel) memoryTitleLabel.textContent = getText('memoryTitleLabel');
    if (memoryTitleInput) memoryTitleInput.placeholder = getText('memoryTitlePlaceholder');
    if (descriptionLabel) descriptionLabel.textContent = getText('descriptionLabel');
    if (descriptionTextarea) descriptionTextarea.placeholder = getText('descriptionPlaceholder');
    if (dateLabel) dateLabel.textContent = getText('dateLabel');
    if (uploadLabel) uploadLabel.textContent = getText('uploadImageText');
    if (uploadSubtext) uploadSubtext.textContent = getText('uploadImageText');
    if (saveButton) {
        saveButton.innerHTML = `
            <i class="fas fa-heart"></i>
            ${getText('saveMemoryButton')}
        `;
    }
    
    // Update memories section title
    const memoriesTitle = document.querySelector('#memories .section-title');
    if (memoriesTitle) memoriesTitle.textContent = getText('memoriesTitle');
    
    // Update modal action buttons
    const editBtn = document.querySelector('.edit-btn');
    const deleteBtn = document.querySelector('.delete-btn');
    
    if (editBtn) {
        editBtn.innerHTML = `
            <i class="fas fa-edit"></i>
            ${getText('editButton')}
        `;
    }
    if (deleteBtn) {
        deleteBtn.innerHTML = `
            <i class="fas fa-trash"></i>
            ${getText('deleteButton')}
        `;
    }
    
    // Update edit modal
    const editModalTitle = document.querySelector('#edit-modal .modal-header h2');
    const editImageLabel = document.querySelector('label[for="edit-image"] span');
    const editImageSubtext = document.querySelector('label[for="edit-image"] small');
    const cancelBtn = document.querySelector('.cancel-btn');
    const saveBtn = document.querySelector('.save-btn');
    
    if (editModalTitle) {
        editModalTitle.innerHTML = `
            <i class="fas fa-edit"></i> ${getText('editMemoryTitle')}
        `;
    }
    if (editImageLabel) editImageLabel.textContent = getText('changeImageText');
    if (editImageSubtext) editImageSubtext.textContent = getText('changeImageSubtext');
    if (cancelBtn) {
        cancelBtn.innerHTML = `
            <i class="fas fa-times"></i>
            ${getText('cancelButton')}
        `;
    }
    if (saveBtn) {
        saveBtn.innerHTML = `
            <i class="fas fa-save"></i>
            ${getText('saveChangesButton')}
        `;
    }
    
    // Update edit form labels
    const editTitleLabel = document.querySelector('label[for="edit-title"]');
    const editDescriptionLabel = document.querySelector('label[for="edit-description"]');
    const editDateLabel = document.querySelector('label[for="edit-date"]');
    
    if (editTitleLabel) editTitleLabel.textContent = getText('memoryTitleLabel');
    if (editDescriptionLabel) editDescriptionLabel.textContent = getText('descriptionLabel');
    if (editDateLabel) editDateLabel.textContent = getText('dateLabel');
    
    // Update confirmation modal
    const confirmTitle = document.querySelector('#confirm-modal .confirm-header h3');
    const confirmMessage = document.querySelector('#confirm-modal .confirm-body p');
    const confirmCancelBtn = document.querySelector('#confirm-modal .cancel-btn');
    const confirmDeleteBtn = document.querySelector('.delete-confirm-btn');
    
    if (confirmTitle) confirmTitle.textContent = getText('confirmDeleteTitle');
    if (confirmMessage) confirmMessage.textContent = getText('confirmDeleteMessage');
    if (confirmCancelBtn) {
        confirmCancelBtn.innerHTML = `
            <i class="fas fa-times"></i>
            ${getText('cancelButton')}
        `;
    }
    if (confirmDeleteBtn) {
        confirmDeleteBtn.innerHTML = `
            <i class="fas fa-trash"></i>
            ${getText('deleteButton')}
        `;
    }
}

// Load saved language preference
function loadLanguagePreference() {
    const saved = localStorage.getItem('selectedLanguage');
    if (saved && languages[saved]) {
        currentLanguage = saved;
    }
    
    // Set lang attribute on html element
    document.documentElement.setAttribute('lang', currentLanguage);
    
    updatePageLanguage();
}

// Initialize language system
document.addEventListener('DOMContentLoaded', function() {
    loadLanguagePreference();
});
