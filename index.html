<!DOCTYPE html>
<html lang="km">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>អនុស្សាវរីយ៍របស់យើង - រឿងស្នេហា</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Dancing+Script:wght@400;500;600;700&family=Noto+Sans+Khmer:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Floating Hearts Background -->
    <div class="hearts-container">
        <div class="heart"></div>
        <div class="heart"></div>
        <div class="heart"></div>
        <div class="heart"></div>
        <div class="heart"></div>
        <div class="heart"></div>
    </div>

    <!-- Header -->
    <header class="header">
        <nav class="navbar">
            <div class="logo">
                <i class="fas fa-heart"></i>
                <span>អនុស្សាវរីយ៍របស់យើង</span>
            </div>
            <div class="nav-controls">
                <div class="language-selector">
                    <button class="language-toggle" aria-label="Change language">
                        <i class="fas fa-globe"></i>
                        <span class="lang-text">ភាសា</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="language-dropdown">
                        <button class="lang-option active" data-lang="km">
                            <span class="flag">🇰🇭</span>
                            <span>ខ្មែរ</span>
                        </button>
                        <button class="lang-option" data-lang="en">
                            <span class="flag">🇺🇸</span>
                            <span>English</span>
                        </button>
                    </div>
                </div>
                <button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark mode">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <div class="hero-text">
                <h1 class="hero-title">
                    <span class="romantic-text">ដំណើរអស្ចារ្យ</span>
                    <span class="memory-text">របស់យើងជាមួយគ្នា</span>
                </h1>
                <p class="hero-subtitle">ចាប់យករាល់ពេលវេលាដ៏មានតម្លៃនៃរឿងស្នេហារបស់យើង</p>
                <button class="cta-button" onclick="scrollToSection('add-memory')">
                    <i class="fas fa-plus"></i>
                    បង្កើតអនុស្សាវរីយ៍ថ្មី
                </button>
            </div>
            <div class="hero-visual">
                <div class="floating-card">
                    <div class="card-3d">

                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Add Memory Section -->
    <section id="add-memory" class="add-memory-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">បន្ថែមអនុស្សាវរីយ៍ថ្មី</h2>
                <button class="close-section-btn" onclick="closeAddMemorySection()" aria-label="Close add memory section">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="memory-form-container">
                <form id="memory-form" class="memory-form">
                    <div class="form-group">
                        <label for="memory-title">ចំណងជើងអនុស្សាវរីយ៍</label>
                        <input type="text" id="memory-title" name="title" placeholder="ការណាត់ជួបដំបូង, ការធ្វើដំណើរ, ។ល។" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="memory-description">ការពិពណ៌នា</label>
                        <textarea id="memory-description" name="description" placeholder="ប្រាប់យើងអំពីពេលវេលាដ៏ស្រស់ស្អាតនេះ..." rows="4" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="memory-date">កាលបរិច្ឆេទ</label>
                        <input type="date" id="memory-date" name="date" required>
                    </div>
                    
                    <div class="form-group file-upload-group">
                        <label for="memory-image" class="file-upload-label">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <span>ផ្ទុកឡើងរូបភាព</span>
                            <small>ចុចដើម្បីជ្រើសរើស ឬអូស និងទម្លាក់</small>
                        </label>
                        <input type="file" id="memory-image" name="image" accept="image/*" required>
                        <div class="image-preview" id="image-preview"></div>
                    </div>
                    
                    <button type="submit" class="submit-btn">
                        <i class="fas fa-heart"></i>
                        រក្សាទុកអនុស្សាវរីយ៍
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- Memories Gallery -->
    <section id="memories" class="memories-section">
        <div class="container">
            <h2 class="section-title">អនុស្សាវរីយ៍ដ៏ស្រស់ស្អាតរបស់យើង</h2>
            <div class="memories-grid" id="memories-grid">
                <!-- Memories will be dynamically added here -->
            </div>
        </div>
    </section>

    <!-- Memory Modal -->
    <div id="memory-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-body">
                <img id="modal-image" src="" alt="">
                <div class="modal-info">
                    <h3 id="modal-title"></h3>
                    <p id="modal-date"></p>
                    <p id="modal-description"></p>
                    <div class="modal-actions">
                        <button class="edit-btn" onclick="openEditModal()">
                            <i class="fas fa-edit"></i>
                            កែប្រែ
                        </button>
                        <button class="delete-btn" onclick="confirmDelete()">
                            <i class="fas fa-trash"></i>
                            លុប
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Memory Modal -->
    <div id="edit-modal" class="modal">
        <div class="modal-content edit-modal-content">
            <span class="close-modal" onclick="closeEditModal()">&times;</span>
            <div class="modal-header">
                <h2><i class="fas fa-edit"></i> កែប្រែអនុស្សាវរីយ៍</h2>
            </div>
            <div class="modal-body">
                <form id="edit-form" class="edit-form">
                    <div class="form-group">
                        <label for="edit-title">ចំណងជើងអនុស្សាវរីយ៍</label>
                        <input type="text" id="edit-title" name="title" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-description">ការពិពណ៌នា</label>
                        <textarea id="edit-description" name="description" rows="4" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-date">កាលបរិច្ឆេទ</label>
                        <input type="date" id="edit-date" name="date" required>
                    </div>
                    
                    <div class="form-group file-upload-group">
                        <label for="edit-image" class="file-upload-label">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <span>ផ្លាស់ប្តូររូបភាព (ជម្រើស)</span>
                            <small>ចុចដើម្បីជ្រើសរើសរូបភាពថ្មី</small>
                        </label>
                        <input type="file" id="edit-image" name="image" accept="image/*">
                        <div class="image-preview" id="edit-image-preview"></div>
                    </div>
                    
                    <div class="edit-actions">
                        <button type="button" class="cancel-btn" onclick="closeEditModal()">
                            <i class="fas fa-times"></i>
                            បោះបង់
                        </button>
                        <button type="submit" class="save-btn">
                            <i class="fas fa-save"></i>
                            រក្សាទុកការផ្លាស់ប្តូរ
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notification-container" class="notification-container"></div>

    <!-- Confirmation Modal -->
    <div id="confirm-modal" class="modal confirm-modal">
        <div class="modal-content confirm-content">
            <div class="confirm-header">
                <i class="fas fa-exclamation-triangle"></i>
                <h3>បញ្ជាក់ការលុប</h3>
            </div>
            <div class="confirm-body">
                <p>តើអ្នកប្រាកដថាចង់លុបអនុស្សាវរីយ៍នេះមែនទេ? សកម្មភាពនេះមិនអាចត្រឡប់វិញបានទេ។</p>
            </div>
            <div class="confirm-actions">
                <button class="cancel-btn" onclick="closeConfirmModal()">
                    <i class="fas fa-times"></i>
                    បោះបង់
                </button>
                <button class="delete-confirm-btn" onclick="deleteMemory()">
                    <i class="fas fa-trash"></i>
                    លុប
                </button>
            </div>
        </div>
    </div>

    <script src="languages.js"></script>
    <script src="script.js"></script>
</body>
</html>
